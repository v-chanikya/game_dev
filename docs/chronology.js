!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=100,r="g1l1",a="https://virtserver.swaggerhub.com/game_dev/game_data_oav2/1.0.0/send_data";function s(t,e){var i=e;i="string"!=typeof e?JSON.stringify(e):e;t=(t===r?"":r)+t;window.localStorage.setItem(t,i);var n=o("storage_list");if(-1==n.indexOf(t)){n.push(t);var a=JSON.stringify(n);window.localStorage.setItem(r+"storage_list",a)}}function o(t){t=(t===r?"":r)+t;var e=window.localStorage.getItem(t);return null===e||"["!==e[0]&&"{"!==e[0]?e:JSON.parse(e)}var c={key:"instructions",active:!1,visible:!1,preload:function(){},create:function(){this.add.text(510,100,"Instructions",{font:"100px Arial",fill:"#ffffff",wordWrap:!0,wordWrapWidth:64,align:"center"}).setOrigin(.5,.5),this.add.text(510,200,"click on consicutive numbers, in the given time",{font:"25px Arial",fill:"#ffffff",wordWrap:!0,wordWrapWidth:64,align:"center"}).setOrigin(.5,.5);var t=this.add.text(510,400,"click to start",{font:"50px Arial",fill:"#228b22",wordWrap:!0,wordWrapWidth:64,align:"center"});t.setOrigin(.5,.5),t.setInteractive(),this.input.on("gameobjectup",function(t,e){e.emit("clicked",e)},this),t.on("clicked",l,this),s("game_state","instructions")}};function l(t){this.scene.start("mainGame")}var d={key:"game_end",active:!1,visible:!1,init:function(t){this.score=t.game_score},preload:function(){},create:function(){this.input.on("gameobjectup",function(t,e){e.emit("clicked",e)},this),this.add.text(510,200,"Game over",{font:"100px Arial",fill:"#ffffff",wordWrap:!0,wordWrapWidth:64,align:"center"}).setOrigin(.5,.5),this.add.text(510,300,"Your score:"+this.score,{font:"50px Arial",fill:"#ffffff",wordWrap:!0,wordWrapWidth:64,align:"center"}).setOrigin(.5,.5),this.add.text(510,400,"Restart game",{font:"50px Arial",fill:"#228b22",wordWrap:!0,wordWrapWidth:64,align:"center"}).setOrigin(.5,.5).setInteractive().on("clicked",f,this);var t={session_id:"abcd",game_id:r,question_id:"q1",game_time:o("total_time"),score:this.score,data:{final_score:this.score}},e=new XMLHttpRequest;e.open("POST",a,!0),e.setRequestHeader("accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t)),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(!function(){var t=o("storage_list");for(var e in t)window.localStorage.removeItem(t[e]);window.localStorage.removeItem(r+"storage_list")}(),console.log(e.responseText))}}};function f(){document.location.reload()}var u={key:"boot",active:!0,preload:function(){this.load.image("sky","assets/sky.png"),this.load.image("cube","assets/rocky01.png"),this.load.image("ground","assets/platform.png");var t=this.add.graphics(),e=this.add.graphics();e.fillStyle(2236962,.8),e.fillRect(240,270,320,50);var i=this.cameras.main.width,n=this.cameras.main.height,r=this.make.text({x:i/2,y:n/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});r.setOrigin(.5,.5);var a=this.make.text({x:i/2,y:n/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});a.setOrigin(.5,.5),this.load.on("progress",function(e){t.clear(),t.fillStyle(16777215,1),t.fillRect(250,280,300*e,30),a.setText(parseInt(100*e)+"%")}),this.load.on("fileprogress",function(t){}),this.load.on("complete",function(){t.destroy(),e.destroy(),r.destroy(),a.destroy()})},create:function(){if(null!==o(r)){var t=o("game_state");null===t?this.scene.start("instructions"):"instructions"===t?this.scene.start("instructions"):"started"===t||"in_progress"===t?this.scene.start("mainGame"):"ended"===t&&this.scene.start("game_end",{game_score:parseInt(o("score"))})}else!function(t){var e;"undefined"!=typeof Storage&&(e=[],window.localStorage.setItem(t+"storage_list",JSON.stringify(e)),s(t,"booting"))}(r),s("game_state","booted"),this.scene.start("instructions")}};var p=null,g=null,m=null,h=120,v=0,y=[],_="started",b={key:"mainGame",active:!1,visible:!1,preload:function(){var t=o("game_state");"instructions"!==t?(_=t,v=parseInt(o("score")),h=parseInt(o("total_time")),y=o("arr")):(s("game_state","started"),s("score",v.toString()),s("total_time",h.toString()),s("arr",y=function(t){var e,i,n=t.length;for(;n;)i=Math.floor(Math.random()*n--),e=t[n],t[n]=t[i],t[i]=e;return t}(y=Array.apply(null,{length:n}).map(Number.call,Number))))},create:function(){this.add.image(400,300,"sky").setScale(2),this.physics.add.staticGroup().create(510,752,"ground").setScale(3).refreshBody();this.physics.add.staticGroup();for(var t=222,e=96,i={font:"32px Arial",fill:"#ffffff",wordWrap:!0,wordWrapWidth:64,align:"center"},n=0;n<10;n++){for(var r=0;r<10;r++){var a=this.add.sprite(t,e,"cube").setScale(.5);a.setInteractive(),a.on("clicked",w,this);var o=this.add.text(t-16,e-16,O(n,r),i);a.name=o.text,0!=v&&parseInt(a.name)==v-1&&(a.tint=2263842,m=a),t+=64}t=222,e+=64}this.input.on("gameobjectup",function(t,e){e.emit("clicked",e)},this),this.input.mouse.capture=!0,g=this.add.text(20,20,"Time:"+h,i),p=this.add.text(850,20,"Score:99",i),this.time.addEvent({delay:1e3,repeat:h,callback:S,callbackScope:this}),s("game_state","in_progress"),_="in_progress"},update:function(){p.setText("Score:"+v),"ended"==_&&(s("game_state","ended"),this.scene.start("game_end",{game_score:v}))}},x={type:Phaser.AUTO,width:1020,height:768,backgroundColor:"#58b07e",physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:[u,c,b,d]};new Phaser.Game(x);function w(t){"in_progress"==_&&(!function(t){return v==t?(v++,!0):t==v-1}(parseInt(t.name))?(t.tint=16711680,k()):(null!=m&&(m.tint=16777215),t.tint=2263842,m=t,parseInt(t.name)===n-1&&k())),s("score",v.toString())}function S(){s("total_time",h.toString()),"in_progress"==_&&(h>0?g.setText("Time:"+--h):k())}function O(t,e){return y[10*t+e]}function k(){_="ended"}}]);